<div class="d-flex">
  {{#each @activeDashboard.widgets as |widgets index|}}
    <div local-class="column" class="px-1">
      {{#each widgets as |widget|}}
        {{pow-dashboard-widget
          widget=widget
          isLocked=@widgetsAreLocked
          onUpdate=(action this.updateWidget)
        }}
      {{/each}}

      {{#unless @widgetsAreLocked}}
        {{pow-page/dashboard-page/widget-board/add-dropdown
          availableWidgets=this.availableWidgets
          onWidgetAdd=(action this.addWidget index)
        }}
      {{/unless}}
    </div>
  {{/each}}

  {{#unless @widgetsAreLocked}}
    {{#if this.hasWidgets}}
      <div local-class="column" class="mx-1">
        {{pow-page/dashboard-page/widget-board/add-dropdown
          availableWidgets=this.availableWidgets
          onWidgetAdd=(action this.addWidget @activeDashboard.widgets.length)
        }}
      </div>
    {{/if}}
  {{/unless}}
</div>
